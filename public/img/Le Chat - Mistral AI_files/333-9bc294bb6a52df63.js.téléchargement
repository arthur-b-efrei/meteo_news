"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{51433:function(e,t,a){a.d(t,{j:function(){return s}});var r=a(57437),i=a(20703),n=a(65950);function s(e){let{className:t,srcLight:a,srcDark:s,...l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{src:a,className:(0,n.cn)("block dark:hidden",t),...l}),(0,r.jsx)(i.default,{src:s,className:(0,n.cn)("hidden dark:block",t),...l})]})}},68328:function(e,t,a){var r=a(57437),i=a(54739),n=a(74961),s=a(30982),l=a(56288);let o={"file-invalid-type":"error_file_type"};function d(e){let{children:t,handleOnDrop:a,acceptedFileTypes:d,disabled:c,dragComponent:u,...m}=e,f=(0,s.useTranslations)("Chat"),h=!(0,n.ac)("(min-width: 640px)"),g=Object.values(d).flat(),{getRootProps:x,getInputProps:p,isDragActive:v}=(0,i.uI)({onDrop:a,onDropRejected:(e,t)=>{e.forEach(e=>e.errors.flatMap(t=>{let a={filename:e.file.name,error:{code:o[t.code]||"error",args:{filename:e.file.name,error:t.message}}};"file-invalid-type"===t.code&&l.Am.error(f("image_upload.".concat(a.error.code),{types:g.join(", "),filename:e.file.name}))}))},noClick:!0,disabled:c||h,accept:d});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{...x(),...m,children:[(0,r.jsx)("input",{...p()}),t,v&&(0,r.jsx)("div",{className:"absolute z-20 flex h-full w-full items-center justify-center bg-gray-50/90 dark:bg-gray-500/70 dark:text-white",children:u})]})})}d.displayName="FileDropzone",t.Z=d},84106:function(e,t,a){a.d(t,{l:function(){return u}});var r=a(57437),i=a(52235),n=a(62677),s=a(32549);a(71966);var l=a(27367),o=a(30982),d=a(2265),c=a(74961);function u(e){let{src:t,alt:a,deleteMessage:o,onDelete:u}=e,[f,h]=(0,d.useState)(!1),g=!(0,c.ac)("(min-width: 640px)"),x=(0,r.jsx)("button",{onClick:u,className:"absolute right-0.5 top-0.5 z-10 rounded-full bg-gray-50 text-gray-500 ring-1 ring-gray-500 dark:ring-slate-900",onMouseOver:()=>h(!0),onMouseOut:()=>h(!1),children:(0,r.jsx)(i.Z,{className:"h-3 w-3"})});return t===l.O.NEXT_PUBLIC_CHAT_IMAGE_PLACEHOLDER?(0,r.jsx)(m,{}):(0,r.jsxs)("div",{className:"relative h-full w-full rounded-[6px] border border-gray-200 p-[0.375rem]",children:[(0,r.jsx)("div",{className:"h-full max-h-full w-full max-w-full rounded-[6px]",children:(0,r.jsx)(s.Z,{children:(0,r.jsx)("img",{src:t,className:"h-full max-h-full w-full max-w-full rounded-md object-cover",onMouseOver:()=>h(!0),onMouseOut:()=>h(!1)})})}),u&&(f||g)&&(o?(0,r.jsx)(n.TooltipProvider,{delayDuration:300,children:(0,r.jsxs)(n.Tooltip,{children:[(0,r.jsx)(n.TooltipTrigger,{asChild:!0,children:x}),(0,r.jsx)(n.TooltipContent,{side:"top",children:o&&(0,r.jsx)("p",{children:o})})]})}):x)]})}function m(){let e=(0,o.useTranslations)("Chat");return(0,r.jsx)(n.TooltipProvider,{delayDuration:100,children:(0,r.jsxs)(n.Tooltip,{children:[(0,r.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,r.jsx)("div",{className:"relative h-full w-full rounded-[6px] border border-gray-200 p-[0.375rem]",children:(0,r.jsx)("div",{className:"h-full max-h-full w-full max-w-full rounded-[6px]",children:(0,r.jsx)("img",{src:l.O.NEXT_PUBLIC_CHAT_IMAGE_PLACEHOLDER,className:"h-full max-h-full w-full max-w-full rounded-md object-cover"})})})}),(0,r.jsx)(n.TooltipContent,{children:(0,r.jsx)("p",{children:e("message.image_placeholder")})})]})})}},69734:function(e,t,a){a.d(t,{R:function(){return o}});var r=a(57437),i=a(2265),n=a(30982),s=a(58610),l=a(56288);function o(e){let{button:t,handleImageUpload:a,handleImageRejected:o,messageImageCount:d,chatImageCount:c}=e,u=(0,i.useRef)(null),m=(0,n.useTranslations)("Chat");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"file",multiple:!0,name:"img-upload",accept:s.Kp["image/*"].join(","),className:"hidden",ref:u,onChange:e=>{if(null===e.target.files||0===e.target.files.length)return;if(e.target.files.length+c>s.u){l.Am.error(m("image_upload.error_max_file_per_chat",{count:s.u}));return}if(e.target.files.length+d>s.$m){l.Am.error(m("image_upload.error_max_file_per_message",{count:s.$m}));return}let t=Array.from(e.target.files);(0,s.LL)(t).then(e=>{let{errors:t,accepted:r}=e;o(t),a(r)})}}),(0,r.jsx)("span",{onClick:()=>{null!==u.current&&u.current.click()},children:t})]})}},49896:function(e,t,a){a.d(t,{R:function(){return D}});var r=a(57437),i=a(575),n=a(33849),s=a(62677),l=a(65950),o=a(2265),d=a(30982),c=a(74961),u=a(9680),m=a(53226),f=a(94845);let h=o.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(f.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:t,children:(0,r.jsx)(f.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});h.displayName=f.fC.displayName;var g=a(98383),x=a(32414),p=a(24602);let v=(0,a(57742).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=o.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(p.f,{ref:t,className:(0,l.cn)(v(),a),...i})});b.displayName=p.f.displayName;var j=a(23441),y=a(85159);function w(e){let{chat:t}=e,a=(0,d.useTranslations)("Chat"),[i,n]=(0,o.useState)(!1),s=g.zw.use.defaultRag(),l=g.zw.use.setDefaultRag(),c=x.api.useUtils(),u=x.api.chat.setRag.useMutation({async onMutate(e){let{rag:a}=e;if(!t)return;await c.chat.byId.cancel({id:t.id});let r=c.chat.byId.getData({id:t.id});return c.chat.byId.setData({id:t.id},e=>({...e,rag:a})),t.rag=a,{prevData:r}},onError(e,a,r){t&&c.chat.byId.setData({id:t.id},null==r?void 0:r.prevData)},onSettled(){t&&c.chat.byId.invalidate({id:t.id})}}),m=async e=>{t?u.mutate({id:t.id,rag:e}):l(e)};return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)("div",{className:"absolute bottom-3 left-0 mb-4 w-full rounded-xl border bg-background p-4 text-foreground",children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(b,{htmlFor:"rag",className:"text-base",children:a("chat_settings.rag")}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:a("chat_settings.ragDescription")})]}),(0,r.jsx)(h,{id:"rag",checked:t?t.rag:s,onCheckedChange:m})]})}),(0,r.jsx)("div",{className:"flex items-center text-xs text-muted-foreground",children:(0,r.jsxs)("button",{className:"flex items-center gap-2",onClick:()=>n(!i),children:["Options",i?(0,r.jsx)(j.Z,{className:"h-4 w-4 opacity-50"}):(0,r.jsx)(y.Z,{className:"h-4 w-4 opacity-50"})]})})]})}var N=a(80223),_=a(85083),C=a(79990),T=a(69734),L=a(84106),E=a(56288),k=a(58610),R=a(76216),A=a(62056);function D(e){let{onSubmit:t,onStop:a,droppedFiles:f,chatImageCount:h,isLoading:x=!1,organization:p,className:v,agents:b}=e,j=(0,d.useTranslations)("Chat"),y=(0,d.useFormatter)(),[D,S]=(0,o.useState)({text:"",images:[]}),P=""===D.text.trim(),F=!(0,c.ac)("(min-width: 640px)"),I=g.zw.use.selectedModel(),M=(0,A.eS)(I,A.JE.vision,b),O=u.o.use.usageLimitReached(),z=u.o.use.usageLimitResetTime(),U=()=>{t(D),S({text:"",images:[]})};async function Z(e){let t=await Promise.all(Array.from(e).map(e=>(0,R.sT)(e)));S(e=>({text:e.text,images:[...e.images,...t]}))}async function B(e){e.forEach(e=>{E.Am.error(j("image_upload.".concat(e.error.code),e.error.args))})}async function X(e){e.clipboardData.files.length&&(D.images.length+e.clipboardData.files.length+h>k.u?E.Am.error(j("image_upload.error_max_file_per_chat",{count:k.u})):D.images.length+e.clipboardData.files.length>k.$m?E.Am.error(j("image_upload.error_max_file_per_message",{count:k.$m})):(0,k.LL)(Array.from(e.clipboardData.files)).then(e=>{let{errors:t,accepted:a}=e;B(t),Z(a)}),e.preventDefault())}return(0,o.useEffect)(()=>{if(f){if(D.images.length+f.length+h>k.u){E.Am.error(j("image_upload.error_max_file_per_chat",{count:k.u}));return}if(D.images.length+f.length>k.$m){E.Am.error(j("image_upload.error_max_file_per_message",{count:k.$m}));return}(0,k.LL)(f).then(e=>{let{errors:t,accepted:a}=e;B(t),Z(a)})}},[f]),(0,o.useEffect)(()=>{M||S({text:D.text,images:[]})},[I]),(0,o.useEffect)(()=>{D.images.length+h>k.u&&(E.Am.error(j("image_upload.error_max_file_per_chat",{count:k.u})),S(e=>({text:e.text,images:[]})))},[h]),(0,r.jsxs)("div",{className:(0,l.cn)("relative pb-4 pt-3",v),children:[(0,r.jsx)("div",{className:"rounded-xl border border-border p-2 shadow-sm",children:O?(0,r.jsxs)("div",{className:"flex flex-row items-center px-3 py-2 text-sm text-muted-foreground",children:[j("usage_limit.description")," ",j("usage_limit.reset",{resetTime:y.relativeTime(Date.now()+1e3*z,Date.now())})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,r.jsx)("div",{className:"mr-1 hidden min-h-full border-r pr-1 sm:block",children:(0,r.jsx)(m.q2,{agents:b,organization:p})}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,r.jsx)(n.B,{autoFocus:!F,placeholder:j("message_input.placeholder"),minHeight:10,maxHeight:300,value:D.text,onInput:e=>S({text:e.target.value,images:D.images}),onKeyDown:e=>{"Enter"!=e.key||e.shiftKey||e.nativeEvent.isComposing||229===e.keyCode||P||x||(e.preventDefault(),U())},onPaste:X,className:"focus-visible:ring-none m-0 h-10 min-h-0 resize-none border-0 bg-transparent pl-2 text-base focus-visible:outline-none focus-visible:outline-0 focus-visible:ring-0 focus-visible:ring-offset-0 sm:text-base"},F?"mobile":"desktop"),(0,r.jsx)("div",{className:"flex-shrink-1 flex flex-row flex-wrap items-start",children:D.images.map((e,t)=>(0,r.jsx)("div",{className:"m-1 h-[5rem] w-[5rem]",children:(0,r.jsx)(L.l,{src:e,deleteMessage:j("image_upload.delete"),onDelete:()=>S({text:D.text,images:D.images.filter((e,a)=>a!==t)})})},t))})]}),M&&(0,r.jsx)("div",{className:"mr-1 hidden min-h-full items-end sm:flex",children:(0,r.jsx)(T.R,{handleImageUpload:Z,handleImageRejected:B,button:(0,r.jsx)(s.TooltipProvider,{delayDuration:300,children:(0,r.jsxs)(s.Tooltip,{children:[(0,r.jsx)(s.TooltipTrigger,{asChild:!0,children:(0,r.jsx)(i.z,{"aria-label":"Add images",variant:"default",className:"m-0 flex min-h-10 min-w-10 items-center justify-center rounded-xl bg-transparent p-0 hover:bg-gray-100/40",children:(0,r.jsx)(N.Z,{className:"mt-0.5 h-5 w-5 text-gray-400"})})}),(0,r.jsx)(s.TooltipContent,{side:"top",children:(0,r.jsxs)("p",{children:[" ",j("image_upload.enabled")]})})]})}),messageImageCount:D.images.length,chatImageCount:h})}),(0,r.jsx)("div",{className:"hidden min-h-full items-end sm:flex",children:x&&a?(0,r.jsx)(i.z,{"aria-label":"Stop generation",type:"button",onClick:e=>{e.preventDefault(),null==a||a()},variant:"default",className:"relative m-0 min-h-10 min-w-10 items-center justify-center rounded-xl bg-primary/20 p-0 hover:bg-primary/40",children:(0,r.jsx)("div",{className:"absolute left-0 right-0 m-auto h-4 w-4 rounded-sm border border-primary"})}):(0,r.jsx)(i.z,{"aria-label":"Send question",type:"submit",disabled:P||x,onClick:U,variant:"default",className:"m-0 flex min-h-10 min-w-10 items-center justify-center rounded-xl bg-primary/10 p-0 hover:bg-primary/50",children:x?(0,r.jsx)(_.Z,{className:"animate-spin text-primary"}):(0,r.jsx)(C.Z,{className:"mt-0.5 h-5 w-5 text-primary"})})})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between sm:hidden",children:[(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsx)(m.q2,{agents:b,organization:p})}),(0,r.jsxs)("div",{className:"flex flex-row",children:[M&&(0,r.jsx)("div",{className:"mr-1",children:(0,r.jsx)(T.R,{handleImageUpload:Z,handleImageRejected:B,messageImageCount:D.images.length,chatImageCount:h,button:(0,r.jsx)(i.z,{"aria-label":"Add images",variant:"default",className:"m-0 flex min-h-10 min-w-10 items-center justify-center rounded-xl bg-transparent p-0 hover:bg-gray-100/40",disabled:!M,children:(0,r.jsx)(N.Z,{className:"mt-0.5 h-5 w-5 text-gray-400"})})})}),x&&a?(0,r.jsx)(i.z,{"aria-label":"Stop generation",type:"button",onClick:e=>{e.preventDefault(),null==a||a()},variant:"default",className:"relative m-0 min-h-10 min-w-10 items-center justify-center rounded-xl bg-primary/20 p-0 hover:bg-primary/40",children:(0,r.jsx)("div",{className:"absolute left-0 right-0 m-auto h-4 w-4 rounded-sm border border-primary"})}):(0,r.jsx)(i.z,{"aria-label":"Send question",type:"submit",disabled:P||x,onClick:U,variant:"default",className:"m-0 flex min-h-10 min-w-10 items-center justify-center rounded-xl bg-primary/20 p-0 hover:bg-primary/40",children:x?(0,r.jsx)(_.Z,{className:"animate-spin text-primary"}):(0,r.jsx)(C.Z,{className:"mt-0.5 h-5 w-5 text-primary"})})]})]})]})}),(0,r.jsxs)("div",{className:"relative mt-3 flex items-center gap-2 px-3 text-xs text-muted-foreground",children:[p.ragAccess&&(0,r.jsx)(w,{}),(0,r.jsx)("div",{className:"hidden flex-1 sm:block"}),(0,r.jsx)("div",{className:"hidden min-w-0 truncate sm:block",children:j("message_input.disclaimer")})]})]})}},53226:function(e,t,a){a.d(t,{q2:function(){return p},DM:function(){return g}});var r,i=a(57437),n=a(30982),s=a(98383),l=a(28814),o=a(70094),d=a(23441),c=a(2265),u=a(65950),m=a(27367),f=a(13994),h=a(47907);(r||(r={})).VISION="ask.vision";let g={[s.Fi.LARGE]:"Large",[s.Fi.LARGE_V2]:"Mistral Large 2",[s.Fi.NEXT]:"Next",[s.Fi.SMALL]:"Small",[s.Fi.CODESTRAL]:"Codestral",[s.Fi.NEMO]:"Mistral Nemo",[s.Fi.PIXTRAL]:"Pixtral"},x={[s.Fi.LARGE]:"Large",[s.Fi.LARGE_V2]:"Large 2",[s.Fi.NEXT]:"Next",[s.Fi.SMALL]:"Small",[s.Fi.CODESTRAL]:"Codestral",[s.Fi.NEMO]:"Nemo",[s.Fi.PIXTRAL]:"Pixtral"};function p(e){let{agents:t,organization:a}=e,p=(0,n.useTranslations)("Chat"),v=(0,f.U0)(),b=(0,h.useParams)(),[j,y]=(0,c.useState)(!1),w=s.zw.use.selectedModel(),N=s.zw.use.setSelectedModel(),_=[{value:s.Fi.LARGE_V2,name:g[s.Fi.LARGE_V2],smallName:x[s.Fi.LARGE_V2],description:p("model_select.large_description")},{value:s.Fi.CODESTRAL,name:g[s.Fi.CODESTRAL],smallName:x[s.Fi.CODESTRAL],description:p("model_select.codestral_description")},{value:s.Fi.NEMO,name:g[s.Fi.NEMO],smallName:x[s.Fi.NEMO],description:p("model_select.small_description")}];a.featureFlags[r.VISION]&&_.push({value:s.Fi.PIXTRAL,name:g[s.Fi.PIXTRAL],smallName:x[s.Fi.PIXTRAL],description:p("model_select.pixtral_description")});let C=(0,c.useMemo)(()=>{let e=_.find(e=>e.value===w);if(e)return e;if(t){let e=t.find(e=>e.id===w);if(e)return{...e,smallName:e.name}}return null},[w]);(0,c.useEffect)(()=>{C||N(s.Q6)},[C]);let T=(e,t)=>{N(e),y(!1),null==v||v.capture("model_switch",{chat_id:b.chat_id,from_model:w,to_model:e,to_agent:t})};return(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)("div",{className:(0,u.cn)("absolute left-0 w-full overflow-y-auto rounded-xl border bg-background px-2 py-4 text-foreground shadow-sm",t?"-top-[372px] h-[372px]":"-top-[292px] h-[284px]"),children:(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsx)("div",{className:"px-3 text-xl font-medium",children:p("model_select.mistral")}),(0,i.jsx)("div",{className:"flex flex-col gap-2",children:_.map(e=>(0,i.jsxs)("div",{onClick:()=>{T(e.value,!1)},className:(0,u.cn)("w-full cursor-pointer rounded-lg border p-3 transition-colors hover:bg-muted/50",w===e.value&&"border-primary"),children:[(0,i.jsx)("div",{className:(0,u.cn)("text-sm font-medium",w===e.value&&"text-primary"),children:e.name}),(0,i.jsx)("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.description})]},e.value))}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mt-6 px-3 text-xl font-medium",children:p("model_select.agents")}),(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[t.map(e=>(0,i.jsxs)("div",{onClick:()=>{T(e.id,!0)},className:(0,u.cn)("flex w-full cursor-pointer items-center justify-between rounded-lg border p-3 transition-colors hover:bg-muted/50",w===e.id&&"border-primary"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:(0,u.cn)("text-sm font-medium",w===e.id&&"text-primary"),children:e.name}),e.description&&(0,i.jsx)("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.description})]}),(0,i.jsx)("a",{href:"".concat(m.O.NEXT_PUBLIC_DASHBOARD_URL,"/build/agents/").concat(e.id),target:"_blank",children:(0,i.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})})]},e.id)),(0,i.jsxs)("a",{href:"".concat(m.O.NEXT_PUBLIC_DASHBOARD_URL,"/build/agents/new"),target:"_blank",className:"flex w-full cursor-pointer items-center justify-between rounded-lg border bg-muted p-3 transition-colors",onClick:()=>{null==v||v.capture("clicked_create_agent")},children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:p("model_select.create_agent")}),(0,i.jsx)(o.Z,{className:"h-4 w-4"})]})]})]})]})}),(0,i.jsxs)("button",{className:(0,u.cn)("flex min-w-0 max-w-32 items-center gap-2 rounded-md px-2.5 py-2 font-medium text-muted-foreground transition-colors hover:bg-muted/50",j&&"bg-muted text-primary"),onClick:()=>y(!j),children:[(0,i.jsx)("span",{className:"truncate",children:null==C?void 0:C.smallName}),(0,i.jsx)(d.Z,{className:(0,u.cn)("h-4 w-4 transition-transform",j&&"rotate-180")})]})]})}},39106:function(e,t,a){a.r(t),a.d(t,{NavigationBar:function(){return O}});var r=a(57437),i=a(65950),n=a(28159),s=a(69121),l=a(575),o=a(98383),d=a(49108),c=a(37805),u=a(62677),m=a(30982);function f(){let e=(0,m.useTranslations)("Chat"),t=o.zw.use.openSidePanel(),a=o.zw.use.toggleSidePanel();return(0,r.jsxs)(u.Tooltip,{children:[(0,r.jsx)(u.TooltipTrigger,{asChild:!0,children:(0,r.jsx)(l.z,{"aria-label":"Toggle menu",variant:"ghost",className:"m-0 h-8 w-8 p-0 text-primary hover:bg-background hover:text-primary",onClick:()=>a(),children:t?(0,r.jsx)(d.Z,{className:"h-6 w-6 text-primary",strokeWidth:1}):(0,r.jsx)(c.Z,{className:"h-6 w-6 text-primary",strokeWidth:1})})}),(0,r.jsx)(u.TooltipContent,{side:"bottom",children:(0,r.jsx)("p",{children:e("navigation_bar.toggle_menu_button_tooltip",{open:t})})})]})}var h=a(54138),g=a.n(h);let x=e=>{if(e.email&&"string"==typeof e.email)return g()(e.email,"@mistral.ai")};var p=a(47907),v=a(59562),b=a(23416),j=a(56288),y=a(2265),w=a(72936),N=a(57742),_=a(52235);let C=w.fC,T=w.xz;w.x8;let L=w.h_,E=y.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});E.displayName=w.aV.displayName;let k=(0,N.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right"}},defaultVariants:{side:"right"}}),R=y.forwardRef((e,t)=>{let{side:a="right",className:n,children:s,...l}=e;return(0,r.jsxs)(L,{children:[(0,r.jsx)(E,{}),(0,r.jsxs)(w.VY,{ref:t,className:(0,i.cn)(k({side:a}),n),...l,children:[s,(0,r.jsxs)(w.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});R.displayName=w.VY.displayName;let A=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};A.displayName="SheetHeader";let D=y.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold text-foreground",a),...n})});D.displayName=w.Dx.displayName;let S=y.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});S.displayName=w.dk.displayName;var P=a(86211),F=a(29668),I=a(9680);function M(){let e=(0,p.useParams)(),[t,a]=(0,y.useState)(),i=I.o.use.chatDebugData(),n=async()=>{let t=await fetch("/api/chat/debug",{method:"POST",body:JSON.stringify({chatId:e.chatId})});a((await t.json()).body)},s=()=>{navigator.clipboard.writeText(JSON.stringify(t,null,2)).then(()=>{j.Am.info("Copied to clipboard")})},o=async e=>{e&&await n()};return(0,r.jsxs)(C,{onOpenChange:o,children:[(0,r.jsx)(T,{asChild:!0,children:(0,r.jsx)(l.z,{"aria-label":"Toggle menu",variant:"ghost",disabled:!e.chatId,className:"m-0 ml-1 h-8 w-8 fill-primary p-0 hover:bg-background hover:text-primary",children:(0,r.jsx)(v.Z,{className:"h-5 w-5 text-primary",strokeWidth:1})})}),(0,r.jsxs)(R,{className:"w-full overflow-y-auto sm:w-[840px]",children:[(0,r.jsxs)(A,{children:[(0,r.jsx)(D,{children:"Debug chat"}),(0,r.jsx)(S,{children:"Here you can find the debug data for this chat."})]}),(0,r.jsx)("div",{className:"mt-4 border-t pt-4 font-semibold text-foreground",children:"All chat"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-muted-foreground",children:"Use this payload to reproduce every response in the chat."}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-4 flex items-center text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex-1",children:["Model:"," ",(0,r.jsx)("span",{className:"font-semibold",children:t.model})]}),(0,r.jsxs)("div",{className:"flex-1",children:["Temperature:"," ",(0,r.jsx)("span",{className:"font-semibold",children:t.temperature})]})]}),(0,r.jsx)("div",{className:"mt-2 text-sm text-muted-foreground",children:"Messages:"}),(0,r.jsxs)("div",{className:"relative my-4",children:[(0,r.jsx)(l.z,{"aria-label":"Copy code to clipboard",size:"icon",variant:"ghost",className:"absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent",onClick:s,children:(0,r.jsx)(b.Z,{className:"h-4 w-4",strokeWidth:1})}),(0,r.jsx)(F.Z,{style:{...P.Z},PreTag:"div",language:"json",className:"select-text rounded-md",children:JSON.stringify(t.messages,null,2)})]})]}),(0,r.jsx)("div",{className:"mt-4 border-t pt-4 font-semibold text-foreground",children:"Last generation"}),(0,r.jsx)("div",{className:"mt-1 text-sm text-muted-foreground",children:"Here is what happened for your last generation."}),i.map((e,t)=>{let{name:a,value:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mt-6 text-sm font-semibold capitalize text-foreground",children:a.replaceAll("_"," ")}),(0,r.jsxs)("div",{className:"relative mb-2 mt-4",children:[(0,r.jsx)(l.z,{"aria-label":"Copy code to clipboard",size:"icon",variant:"ghost",className:"absolute right-2 top-2 h-6 w-6 rounded-full p-0 text-muted-foreground hover:bg-accent",onClick:s,children:(0,r.jsx)(b.Z,{className:"h-4 w-4",strokeWidth:1})}),(0,r.jsx)(F.Z,{style:{...P.Z},PreTag:"div",language:"json",className:"select-text rounded-md",children:JSON.stringify(i,null,2)})]})]},t)})]})]})}function O(e){let{activeMessage:t,chat:a,className:l,user:o}=e;return(0,r.jsxs)("div",{className:(0,i.cn)("flex h-12 w-full flex-row items-center gap-4 p-2 transition-shadow sm:h-16 sm:min-h-16",(null==a?void 0:a.permission)==="read-only"?"bg-stone-50 dark:bg-stone-900":"bg-background",l),children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,r.jsx)(f,{}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.NewChatButton,{}),(0,r.jsx)(s.ShareButton,{chat:a}),x(o)&&(0,r.jsx)(M,{})]})]}),(0,r.jsx)("div",{className:"mx-2 flex w-full min-w-0 flex-1 flex-row items-center justify-between sm:mx-8",children:t&&(0,r.jsx)("p",{className:"block truncate",children:t.content})})]})}},28159:function(e,t,a){a.r(t),a.d(t,{NewChatButton:function(){return c}});var r=a(57437),i=a(575),n=a(65950),s=a(8792),l=a(25310),o=a(62677),d=a(30982);function c(e){let{disabled:t,className:a}=e,c=(0,d.useTranslations)("Chat");return(0,r.jsxs)(o.Tooltip,{children:[(0,r.jsx)(o.TooltipTrigger,{asChild:!0,children:(0,r.jsx)(s.default,{"aria-label":"New chat",href:"/chat",className:(0,n.cn)((0,i.d)({variant:"ghost",size:"sm"}),"m-0 h-8 w-8 p-0 text-primary hover:bg-background hover:text-primary",t?"pointer-events-none opacity-50":"",a),children:(0,r.jsx)(l.Z,{className:"h-5 w-5",strokeWidth:1})})}),(0,r.jsx)(o.TooltipContent,{children:(0,r.jsx)("p",{children:c("navigation_bar.new_chat_button_tooltip")})})]})}},69121:function(e,t,a){a.r(t),a.d(t,{ShareButton:function(){return m}});var r,i=a(57437),n=a(575),s=a(30982),l=a(62677),o=a(52846);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}var c=function(e){return o.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{d:"M7.854 7.354 11.5 3.707v10.794a.5.5 0 1 0 1 0V3.706l3.646 3.647a.5.5 0 0 0 .707 0 .5.5 0 0 0 0-.707l-4.5-4.5a.5.5 0 0 0-.706 0l-4.5 4.5a.5.5 0 0 0 .707.707M21.5 12a.5.5 0 0 0-.5.5v7c0 .828-.672 1.5-1.5 1.5h-15c-.828 0-1.5-.672-1.5-1.5v-7a.5.5 0 0 0-1 0v7A2.5 2.5 0 0 0 4.5 22h15a2.5 2.5 0 0 0 2.5-2.5v-7a.5.5 0 0 0-.5-.5"})))},u=a(9680);function m(e){let{disabled:t,chat:a}=e,r=(0,s.useTranslations)("Chat"),o=u.o.use.setOpenShareDialog(),d=(null==a?void 0:a.copies[0])!=null&&(null==a?void 0:a.permission)!=="read-only";return(0,i.jsxs)(l.Tooltip,{children:[(0,i.jsx)(l.TooltipTrigger,{asChild:!0,children:(0,i.jsxs)(n.z,{"aria-label":"Toggle menu",variant:"ghost",disabled:t,className:"relative m-0 ml-1 h-8 w-8 fill-primary p-0 hover:bg-background hover:text-primary",onClick:()=>o(!0),children:[(0,i.jsx)(c,{className:"h-5 w-5 text-primary",strokeWidth:1}),d&&(0,i.jsx)("div",{className:"absolute right-0.5 top-0.5 h-2 w-2 rounded-full bg-primary"})]})}),(0,i.jsx)(l.TooltipContent,{side:"bottom",children:(0,i.jsx)("p",{children:r("navigation_bar.share_button_tooltip")})})]})}},39473:function(e,t,a){a.d(t,{Z:function(){return m}});var r=a(57437),i=a(32414),n=a(49896),s=a(47907),l=a(56288),o=a(98383),d=a(2265),c=a(76216),u=a(49094);function m(e){let{organization:t,chatId:a,messages:m,agents:f,className:h,model:g,droppedFiles:x}=e,[p,v]=(0,d.useState)(!1),b=(0,s.useRouter)(),j=o.zw.use.defaultRag(),y=o.zw.use.setSelectedModel(),w=i.api.useUtils(),N=i.api.message.newChat.useMutation({onSuccess:e=>{b.push("/chat/".concat(e.chatId))},onError:e=>{l.Am.error("Failed to send message"),console.error(e)},onSettled(){w.chat.last.invalidate({chatVisibility:"private",chatPermission:"write"})}});async function _(e){if(v(!0),e.images.length>0)try{e.images=await (0,c.eg)(e.images)}catch(e){l.Am.error("".concat(e)),v(!1);return}a&&m?N.mutate({chatId:a,parentId:m.at(-1).id,parentVersion:m.at(-1).version,content:e.text,images:e.images,rag:j}):N.mutate({content:e.text,images:e.images,rag:j}),v(!1)}return(0,d.useEffect)(()=>{g&&y(g)},[]),(0,r.jsx)(n.R,{className:h,onSubmit:_,isLoading:p,organization:t,agents:f,droppedFiles:x,chatImageCount:(0,u.t)(m)})}},33849:function(e,t,a){a.d(t,{B:function(){return l}});var r=a(57437),i=a(2265),n=a(65950);let s=(e,t,a,r)=>{let n=i.useRef(null);return i.useImperativeHandle(e,()=>n.current),i.useEffect(()=>{let e=null==n?void 0:n.current,r=()=>{e&&(e.style.height="auto",e.style.height=Math.max(a,Math.min(e.scrollHeight,t))+"px")};return r(),null==e||e.addEventListener("input",r),()=>null==e?void 0:e.removeEventListener("input",r)},[r]),{textAreaRef:n}},l=i.forwardRef((e,t)=>{let{maxHeight:a=Number.MAX_SAFE_INTEGER,minHeight:i=30,value:l,className:o,...d}=e,{textAreaRef:c}=s(t,a,i,l);return(0,r.jsx)("textarea",{className:(0,n.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm",o),ref:c,value:l,rows:1,...d})});l.displayName="AutosizeTextarea"},575:function(e,t,a){a.d(t,{d:function(){return o},z:function(){return d}});var r=a(57437),i=a(2265),n=a(59143),s=a(57742),l=a(65950);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-auto disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-green-500/50 text-green-500 hover:bg-green-500/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:a,variant:i,size:s,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:i,size:s,className:a})),ref:t,...c})});d.displayName="Button"},62677:function(e,t,a){a.r(t),a.d(t,{Tooltip:function(){return o},TooltipContent:function(){return c},TooltipProvider:function(){return l},TooltipTrigger:function(){return d}});var r=a(57437),i=a(2265),n=a(65056),s=a(65950);let l=n.zt,o=n.fC,d=n.xz,c=i.forwardRef((e,t)=>{let{className:a,sideOffset:i=4,...l}=e;return(0,r.jsx)(n.VY,{ref:t,sideOffset:i,className:(0,s.cn)("z-50 hidden overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 sm:block",a),...l})});c.displayName=n.VY.displayName},9680:function(e,t,a){a.d(t,{o:function(){return s}});var r=a(22020),i=a(72323);let n=(0,r.Ue)()((e,t)=>({openUsageLimitDialog:!1,setOpenUsageLimitDialog:t=>e(e=>({openUsageLimitDialog:t})),openShareDialog:!1,setOpenShareDialog:t=>e(e=>({openShareDialog:t})),sidePanelChatMode:"history",setSidePanelChatMode:t=>e(e=>({sidePanelChatMode:t})),usageLimitReached:!1,usageLimitResetTime:null,setUsageLimitReached:a=>{e(()=>({usageLimitReached:!0,usageLimitResetTime:a}));let r=()=>{0==t().usageLimitResetTime?e(()=>({usageLimitReached:!1,usageLimitResetTime:null})):(e(e=>({usageLimitReached:!0,usageLimitResetTime:e.usageLimitResetTime-1})),setTimeout(r,1e3))};setTimeout(r,1e3)},chatDebugData:[],addChatDebugData:(t,a)=>e(e=>({chatDebugData:[...e.chatDebugData,{name:t,value:a}]})),resetChatDebugData:()=>e(()=>({chatDebugData:[]}))})),s=(0,i.N)(n)},98383:function(e,t,a){a.d(t,{Fi:function(){return i},Q6:function(){return d},vP:function(){return o},zw:function(){return u}});var r,i,n=a(22020),s=a(72323),l=a(65249);function o(e){return Object.values(i).includes(e)}(r=i||(i={})).LARGE="mistral-large",r.LARGE_V2="mistral-large-2407",r.NEXT="mistral-next",r.SMALL="mistral-small",r.CODESTRAL="codestral",r.NEMO="mistral-nemo",r.PIXTRAL="pixtral-12b-2409";let d="mistral-large-2407",c=(0,n.Ue)()((0,l.tJ)((e,t)=>({isLoaded:!1,setIsLoaded:t=>e({isLoaded:t}),openSidePanel:!1,toggleSidePanel:()=>e(e=>({openSidePanel:!e.openSidePanel})),setOpenSidePanel:t=>e({openSidePanel:t}),selectedModel:d,setSelectedModel:t=>e({selectedModel:t}),defaultRag:!1,setDefaultRag:t=>e({defaultRag:t}),featureConversationBranchesAck:!1,setFeatureConversationBranchesAck:()=>e({featureConversationBranchesAck:!0})}),{name:"persistent-store"})),u=(0,s.N)(c)},72323:function(e,t,a){a.d(t,{N:function(){return r}});let r=e=>{for(let t of(e.use={},Object.keys(e.getState())))e.use[t]=()=>e(e=>e[t]);return e}},32414:function(e,t,a){a.r(t),a.d(t,{TRPCReactProvider:function(){return h},api:function(){return m},apiWithoutReact:function(){return f}});var r=a(57437),i=a(89057),n=a(64095),s=a(68953),l=a(67480),o=a(2265),d=a(75047);a(49079);let c=d.ZP;function u(){return"/api/trpc"}let m=(0,l.ec)(),f=(0,s.K5)({transformer:c,links:[(0,s.gb)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,s.N8)({url:u(),fetch:async(e,t)=>{let a=await fetch(e,t);return 401===a.status&&window&&window.location.reload(),a}})]});function h(e){let[t]=(0,o.useState)(()=>new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}})),[a]=(0,o.useState)(()=>m.createClient({transformer:c,links:[(0,s.gb)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,s.N8)({url:u(),fetch:async(e,t)=>{let a=await fetch(e,t);return 401===a.status&&window&&window.location.reload(),a}})]}));return(0,r.jsx)(n.aH,{client:t,children:(0,r.jsx)(m.Provider,{client:a,queryClient:t,children:e.children})})}},65950:function(e,t,a){a.d(t,{Q:function(){return s},T:function(){return l},cn:function(){return n}});var r=a(75504),i=a(51367);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,r.W)(t))}let s=e=>e.split(" ").map(e=>(e[0]||"").toUpperCase()).join("");async function l(e){try{if("clipboard"in navigator)return await navigator.clipboard.writeText(e);return document.execCommand("copy",!0,e)}catch(e){}}},49094:function(e,t,a){a.d(t,{E:function(){return s},t:function(){return l}});var r=a(19524),i=a.n(r);let n={user:0,assistant:1,system:-1},s=e=>{let t=[];return i().sortBy(e.filter(e=>"active"===e.status),[e=>e.turn,e=>n[e.role]]).forEach(e=>{if(0===t.length)t.push(e);else{let a=t.at(-1);e.parentId===a.id&&e.parentVersion===a.version&&t.push(e)}}),t};function l(e){return e?e.map(e=>e.images.length).reduce((e,t)=>e+t,0):0}},62056:function(e,t,a){a.d(t,{JE:function(){return r},eS:function(){return s},pc:function(){return l}});var r,i=a(98383);(r||(r={})).vision="vision";let n={[i.Fi.LARGE]:{vision:!1},[i.Fi.LARGE_V2]:{vision:!1},[i.Fi.NEXT]:{vision:!1},[i.Fi.SMALL]:{vision:!1},[i.Fi.CODESTRAL]:{vision:!1},[i.Fi.NEMO]:{vision:!1},[i.Fi.PIXTRAL]:{vision:!0}};function s(e,t,a){let r=l(e,a);return!!r&&n[r][t]}function l(e,t){if((0,i.vP)(e))return e;{let a=(t=t||[]).find(t=>t.id===e);if(a&&(0,i.vP)(a.model))return a.model}}},76216:function(e,t,a){a.d(t,{eg:function(){return s},sT:function(){return l}});var r=a(32274),i=a(8841),n=a(8620).Buffer;async function s(e){let t,a;let i=e.filter(e=>e.startsWith("data:image/")).length;if(0===i)return e;try{a=await fetch("/api/imageUpload?"+new URLSearchParams({count:"".concat(i)}).toString())}catch(e){throw Error("Failed to upload images: ".concat(e))}if(!a.ok)throw Error("Failed to upload images: ".concat(await a.text()));return t=(await a.json()).uploadUrls,await Promise.all(e.map(async e=>{if(!e.startsWith("data:image/"))return e;let a=t.pop();if(!a)throw Error("Failed to upload images.");let i=new r.bM(a),s=e.replace(/data:image\/.*;base64,/,"");return await i.uploadData(n.from(s,"base64")),a}))}async function l(e){return e=await o(e),new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{if("string"!=typeof r.result)return a(Error("FileReader result is not a string"));t(r.result)},r.onerror=e=>{a(e)}})}async function o(e){return"image/gif"===e.type?await d(e):e}async function d(e){let t=await e.arrayBuffer(),a=(0,i.vq)(t),r=(0,i.zw)(a,!0)[0],n=new ImageData(r.patch,r.dims.width,r.dims.height),s=new OffscreenCanvas(r.dims.width,r.dims.height);s.getContext("2d").putImageData(n,0,0);let l=await s.convertToBlob({type:"image/png"});return new File([l],e.name,{type:"image/png"})}},58610:function(e,t,a){a.d(t,{$m:function(){return o},Kp:function(){return c},LL:function(){return m},u:function(){return d}});var r=a(27367),i=a(57812);let n=r.O.NEXT_PUBLIC_MAX_IMAGE_SIZE||10485760,s=r.O.NEXT_PUBLIC_MAX_IMAGE_WIDTH||5e3,l=r.O.NEXT_PUBLIC_MAX_IMAGE_HEIGHT||5e3,o=r.O.NEXT_PUBLIC_MAX_IMAGE_PER_MESSAGE||4,d=r.O.NEXT_PUBLIC_MAX_IMAGE_PER_CHAT||4,c={"image/*":[".png",".gif",".jpeg",".jpg",".webp"]},u=c["image/*"].map(e=>"image/".concat(e.slice(1)));async function m(e){let t=[],a=[];return await Promise.all(e.map(async e=>{let r=[];for(let t of[f,h,g]){let a=await t(e);void 0!==a&&r.push(a)}r.length>0?t.push(...r):a.push(e)})),{errors:t,accepted:a}}async function f(e){return new Promise(t=>{u.includes(e.type)||t({filename:e.name,error:{code:"error_file_type",args:{filename:e.name,types:c["image/*"].join(", ")}}}),t(void 0)})}async function h(e){return new Promise(t=>{e.size>n&&t({filename:e.name,error:{code:"error_file_size",args:{size:(0,i.Z)(n),filename:e.name}}}),t(void 0)})}async function g(e){if(!u.includes(e.type))return;let{width:t,height:a}=await x(e);if(t>s||a>l)return{filename:e.name,error:{code:"error_file_dimensions",args:{width:s,height:l,filename:e.name}}}}async function x(e){return new Promise(t=>{let a=new Image;a.src=URL.createObjectURL(e),a.onload=()=>t({width:a.width,height:a.height})})}}}]);